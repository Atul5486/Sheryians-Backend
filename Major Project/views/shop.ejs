<%- include("header.ejs") %>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scatch - A permium Bag Shop</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    html,body{
        width: 100%;
        height: 100%;
    }
  </style>
</head>
<body>
  <main class="w-full min-h-full bg-white flex">
  <div class="sticky top-0 flex h-screen flex-col w-[20%] bg-zinc-300 items-center pt-20">
    <div class="flex items-center gap-2">
                <h3>sort by</h3>
                <form action="/shop">
                    <select class="border-[1px] px-2 py-1" name="sortby" id="">
                        <option value="popular">Popular</option>
                        <option value="newest">Newest</option>
                    </select>
                </form>
            </div>
            <div class="flex flex-col mt-20">
                <a class="block w-fit mb-2" href="">New Collection</a>
                <a class="block w-fit mb-2" href="">All Products</a>
                <a class="block w-fit mb-2" href="">Discounted Products</a>
            </div>
            <div class="mt-32">
                <a class="block w-fit mb-2" href="">Filter by :</a>
                <a class="block w-fit mb-2" href="">Availability</a>
                <a class="block w-fit mb-2" href="">Discount</a>
            </div>
    </div>
   <div class="w-[80%] h-full p-10 pt-20">
      <div class="grid grid grid-reverse grid-cols-3 items-start gap-5">
         <%products.forEach((product)=>{ %>
           <div class="w-60 rounded-lg overflow-hidden">
                    <div class="w-full h-52 bg-[<%=product.bgcolor%>] ">
                     <img class="w-full h-full object-contains" src="data:image/jpeg;base64,<%= product.image.toString('base64') %>" alt="<%= product.name %>">
                    </div>
                    <div class="flex justify-between items-center px-4 py-4 bg-[<%=product.panelcolor%>] text-[<%=product.textcolor%>]">
                        <div>
                            <h3 class="text-xl font-medium"><%=product.name%></h3>
                            <h4 class="font-medium"><%=product.discount %>%off</h4>
                          </div>
                          <h4 class="font-medium">â‚¹<%=product.price %></h4>
                        <a class="w-7 h-7 flex items-center justify-center rounded-full bg-white font-medium" href="/addtocart/<%=product._id%>">
                            +
                        </a>
                    </div>
                </div>
         <% }) %>   
                 
      </div>
</div>
 </main>
</body>
</html>
